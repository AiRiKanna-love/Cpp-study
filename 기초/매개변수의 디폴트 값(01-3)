2024/12/04

매개변수의 디폴트 값

C++에서는 함수에 '디폴트 값'이라는 것을 설정할 수 있는데 이는 '기본적으로 설정되어 있는 값'이다.

매개변수에 설정하는 '디폴트 값'의미
C++에서는 함수의 매개변수를 다음의 형태로 선언하는 것이 가능하다.

ex)

int MyFuncOne(int num = 7)
{
  return num + 1;
}

int MyRuncTwo(int num1 = 5, int num2 = 7)
{
  return num1 + num2;
}

여기서 MyFuncOne의 매개변수 선언은 다음과 같다.

  int = 7

그리고 이는 다음의 의미를 가진다.

'함수호출 시 인자를 전달하지 않으면 7이 전달된것으로 간주한다.'

따라서 다음 두 함수 호출문은 완전히 동일하다.

MyFuncOne();  // 7이 전달된 것으로 간주
MyFuncOne(7);

이어서, MyFuncTwo의 매개변수 선언은 다음과 같다.

  int num1 = 5, int num2 = 7;

그리고 이는 다음의 의미를 지닌다.

  '함수호출 시 인자를 전달하지 않으면 num1에는 5가, num2에는 7이 전달된 것으로 간주'

따라서 두 함수의 호출문은 완전히 동일하다.

  MyFuncTwo();  // 5와 7이 전달된 것으로 간주
  MyFuncTwo(5, 7);

그럼 지금까지 설명한 내용을 바탕으로 예제 제시

ex)

int Add(int num1 = 1, int num2 = 2)  //3행
{
  return num1 + num2;
}

int main(void)
{
  cout<<Adder()<<endl; //10행
  cout<<Adder(5)<<endl; //11행
  cout<<Adder(3, 5)<<endl; //12행
  return 0;
}

해석
3행 : Adder 함수에 디폴트 값으로 1과 2설정
10행 : Adder 함수를 호출하면서 인자를 전달받지 않았으니, 1과 2가 전달된 것으로 간주
11행 : Adder 함수를 호출하면서 인자를 하나만 전달 받았으니, 이런 경우에는 인자를 첫 번째 매개변수로 전달.
따라서 두번째 매개변수인 num2 에는 2가 전달
12행 : Adder 함수를 호출하면서 인자를 둘다 전달 받았으니, 이런 경우에는 매개변수의 디폴트 값은 의미를 가지지 않는다.


위의 해설로 알 수 있는 사실은 
'매개변수에 디폴트 값이 설정되어 있으면, 선언된 매개변수의 수보다 적은 수의 인자전달이 가능하다.
그리고 전달되는 인자는 왼쪽에서부터 채워지고, 부족분은 매개변수의 디폴트 값으로 채워진다.'

[디폴트 값은 함수의 선언 부분에만 표현하면 된다.]

함수의 원형을 별도로 선언하는 경우, 매개변수의 디폴트 값은 함수의 원형 선언에만 위치시켜야 한다.
즉 위의 예제는 이렇게 다시 작성 가능

ex)

int Adder(int num1 = 1, int num2 = 2); //함수의 선언

int main(void)
{
  .....
}

int Adder(int num1, int num2) //함수의 정의
{
  return num1 + num2;
}



[부분적 디폴트 값 설정]
일부분만 디폴트 값 설정이 가능하지만 이는 디폴트 값을 설정할 때 매개변수의 오른쪽부터 채워나가야 한다.
그 이유는 위에서도 설명했다시피 
'전달되는 인자가 왼쪽부터 채워지기에 왼쪽부터 디폴트 값을 설정하면 의미가 없다'
